{% extends "base.html" %}

{% block title %}Cart Details - Inventory Management System{% endblock title %}

{% block content %}
<h1>Cart Details</h1>
{% if cart_items %}
<table>
    <tr>
        <th>Item</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>Total</th>
    </tr>
    {% for cart_item in cart_items %}
    <tr>
        <td>{{ cart_item.item.item_name }}</td>
        <form action="{% url "update_cart" cart_item.id %}" method="post">
            {% csrf_token %}
            <input type="number" name="quantity" value="{{ cart_item.quantity }}" min="1">
            <button type='submit'>Update</button>
        </form>
        <td>{{ cart_item.item.price }}</td>
        <td>{{ cart_item.total_price }}</td>
    </tr>
    {% endfor %}
    <tr>
        <td colspan="3"><strong>Total Price</strong></td>
        <td><strong>{{ cart.total_price }}</strong></td>
    </tr>
</table>
<a href="{% url 'checkout' %}">Proceed to Checkout</a>
{% else %}
<p>Your cart is empty.</p>
{% endif %}
{% endblock content %}